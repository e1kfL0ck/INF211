<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/baseTemplate/base :: layout(~{::title},~{::article})}">
<title>GetYourJob</title>
<article class="row justify-content-center text-danger">
    <header class="col-2">
        <h1>Messages</h1>
        <meta>
    </header>


    <h3>
        <th:block th:if="session.usertype=='company'">
            Messages envoyés automatiquement aux candidats
        </th:block>
        <th:block th:if="session.usertype=='candidate'">
            Messages recus automatiquement
        </th:block>
    </h3>
    <table class="table table-striped">
        <thead>
        <tr>
            <!--Lister les messages reçus des entreprises pour une offre d’emploi-->
            <th>ID message</th>
            <th>Voir l'offre</th>
            <th>ID Application</th>
            <th>Reception date</th>
            <th>Message content</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="message : ${messages}">
            <td th:text="${message.id}"></td>
            <td>
                <!--TODO: add a view display only one jobOffer-->
                <a th:href="@{'/joboffers/' + ${message.joboffer.id}}" class="btn btn-info">
                    <i class="bi bi-eye"></i> View
                </a>
            </td>
            <td th:text="${message.application.id}"></td>
            <td th:text="${message.date}"></td>
            <td><span style="white-space: pre-line" th:text="${message.message}"></span></td>
        </tr>
        </tbody>
    </table>
</article>
<footer>
</footer>
</html>